<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
                      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
  <script type="text/javascript" src="./js/gnn/base.js"></script>
  <script type="text/javascript" src="./js/gnn/uri.js"></script>
  <script type="text/javascript" src="./js/gnn/xhr.js"></script>
  <script type="text/javascript" src="./js/utility.js"></script>
  <script type="text/javascript" src="./js/frame_control.js"></script>
  <script type="text/javascript" src="./js/page_control.js"></script>
  <script type="text/javascript" src="./js/app.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/default.css" />
  <link rel="stylesheet" type="text/css" href="./css/bookmark.css" />
  <style type="text/css">
    .frame { display: none; }
  </style>
  <link rel="start" href="http://orezdnu.org/" />
  <link rev="made" href="http://orezdnu.org/" />
  <title>Find Your Curators</title>
</head>
<body onload="init()">
  <div id="article">
    <h1>Find Your Curators (&beta;)</h1>

    <div class="frame select">
      <form action="." id="id-selector">
        <div>
          <label for="hatena-id">はてなID:</label>
          <input type="text" id="hatena-id" />
        </div>
      </form>
    </div>

    <div class="frame request">
      <h2>はじめに</h2>
      <p>TODO:一般向けのせつめい(計算には時間がかかります)</p>

      <div class="command"></div>

      <div class="frame message busy">
        混雑しているので後でやり直して下さい
      </div>

      <div class="frame message full">
        容量制限を超えているため実行できません
      </div>

      <h3>わかる人向けのせつめい</h3>
      <ul>
        <li>はてなブックマークの公開データを使っておすすめユーザを算出します
        <ul>
          <li>基本は最近ブックマークしたエントリをより早くブクマした人たち</li>
        </ul></li>
        <li>バッチ処理してます
        <ul>
          <li>Web経由でデータを取ってくる都合上DoSにならないようにウェイトを挟むので遅いです</li>
          <li>計算リソースがあまりないので他にバッチ処理が走っていると処理を受け付けてもらえません</li>
          <li>容量制限を超えた場合も処理を受け付けてもらえません</li>
        </ul></li>
        <li>開発中なので至らない点が多々あります
        <ul>
          <li>一度計算すると再計算するUIがありません(APIを直接叩けばできます)</li>
          <li>画面遷移を進む/戻るできないので再読み込み・ID欄に入力等して下さい</li>
          <li>進捗状況はジョブキューの残ジョブ数(の変化)から疑似的に計算しているので不正確です</li>
        </ul></li>
      </ul>
    </div>

    <div class="frame algorithm">
      <h2>どんな人を探しますか?</h2>

      <div class="buttons"></div>
    </div>

    <div class="frame header">
      <h2></h2>
    </div>

    <div class="frame loading">
      <img src="./img/loading.gif" alt="loading..." />
    </div>

    <div class="frame status">
      <div id="status">
        計算中<img src="./img/loading_s.gif" alt="..." />
      </div>

      <h3>進捗状況(推定値)</h3>
      <div id="progress">
        <dl class="indicator">
          <dt>処理済</dt>
          <dd class="count"><span class="count">0</span></dd>
          <dt>タスク</dt>
          <dd class="count"><span class="count">0</span></dd>
          <dt>進捗率</dt>
          <dd class="ratio"><span class="ratio">0%</span></dd>
        </dl>
      </div>
    </div>

    <div class="frame result"></div>

    <div class="frame ready">
      <p>まだなにもありません</p>
    </div>
  </div>
  <div id="footer">
    <address><a href="http://www.hatena.ne.jp/tarao/">id:tarao</a></address>
  </div>
</body>
</html>
